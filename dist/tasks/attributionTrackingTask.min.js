var attributionTrackingTask=function(){"use strict";var o={sync:function(o){try{var n=null;try{n=this.getDecodedCookie(o)}catch(o){console.error("Error getting cookie:",o)}var t=localStorage.getItem(o);this.set(o,n||t||"")}catch(o){console.error("Error in sync method:",o)}},get:function(o){try{return this.sync(o),localStorage.getItem(o)||null}catch(o){return console.error("Error in get method:",o),null}},set:function(o,n,t,e,c){void 0===t&&(t=7),void 0===e&&(e="/"),void 0===c&&(c="");try{var r=btoa(JSON.stringify(n)),i=new Date(Date.now()+864e5*t).toUTCString();document.cookie="".concat(o,"=").concat(r,"; expires=").concat(i,"; path=").concat(e,"; domain=").concat(c,"; SameSite=Strict; Secure"),localStorage.setItem(o,n)}catch(o){console.error("Error in set method:",o)}},getDecodedCookie:function(o){try{var n=document.cookie.split("; ").find((function(n){return n.startsWith(o+"=")}));if(!n)return null;var t=n.split("=")[1];return JSON.parse(atob(t))}catch(o){return console.error("Error decoding cookie:",o),null}}};return function(n,t,e,c,r){var i,a,l,s,u,d,m,g;void 0===t&&(t="last_click"),void 0===e&&(e=2),void 0===c&&(c="ad_attribution");var v=n.events.some((function(o){return"_ss"in o})),h="cs"in n.sharedPayload,f=n.events.some((function(o){return"campaign_details"===o.en}));if(!v&&!h&&!f)return n;var k={storeName:c||"__ad_attribution",ignoredReferrals:["tagassistant.google.com"].concat(r),organicEngines:["daum","eniro","naver","pchome","images.google","www.google","yahoo","www.yahoo","msn","www.bing","aol","lycos","ask","cnn","virgilio","baidu","alice","yandex","najdi","seznam","rakuten","biglobe","goo.ne","search.smt.docomo","onet","kvasir","terra","rambler","conduit","babylon","search-results","avg","comcast","incredimail","startsiden","go.mail.ru","centrum.cz","360.cn","sogou","tut.by","globo","ukr","so.com","haosou.com","auone"],cookieExpirationDays:365},w={cm:"",cs:"",cn:"",cc:"",ct:"",ci:"",gclid:"",ts:Date.now()},p={cm:"",cs:"",cn:"",cc:"",ct:"",ci:"",gclid:"",ts:Date.now()},y=n.sharedPayload,b=y.dr,_=y.dl,S=void 0===_?document.location.href:_,E=null,D=null,O={};try{E=b?new URL(b):null}catch(o){E=null}try{D=new URL(S),new URLSearchParams(D.search).forEach((function(o,n){O[n]=o}))}catch(o){D=null}var J=function(){var o;return null!==(o=O.gclid)&&void 0!==o?o:null};J()?(w.gclid=J(),w.cm="cpc",w.cs="google",w.cn="autotagged ad campaign"):void 0!==O.utm_source?(w.cm=null!==(i=O.utm_medium)&&void 0!==i?i:"",w.cs=null!==(a=O.utm_source)&&void 0!==a?a:"",w.cn=null!==(l=O.utm_campaign)&&void 0!==l?l:"",w.cc=null!==(s=O.utm_content)&&void 0!==s?s:"",w.ct=null!==(u=O.utm_term)&&void 0!==u?u:""):k.organicEngines.some((function(o){var n;return null!==(n=null==E?void 0:E.hostname.includes(o))&&void 0!==n&&n}))?(w.cm="organic",w.cs=(null!==(d=null==E?void 0:E.hostname)&&void 0!==d?d:"").replace("www.",""),w.cn="(organic)",w.ct="(not provided)"):k.ignoredReferrals.some((function(o){var n;return null!==(n=null==E?void 0:E.hostname.includes(o))&&void 0!==n&&n}))||function(){var o;return null!==(o=null==E?void 0:E.hostname.replace("www.","").includes(function(o){for(var n=(o||document.location.hostname).split("."),t=1;t<n.length;t++){var e=n.slice(-t).join(".");if(document.cookie="testcookie=1; domain=".concat(e,"; path=/"),document.cookie.includes("testcookie=1"))return document.cookie="testcookie=1; domain=".concat(e,"; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT"),e}return document.location.hostname}(document.location.href)))&&void 0!==o&&o}()?(w.cm="(none)",w.cs="(direct)",w.cn="(direct)"):b?(w.cm="referral",w.cs=null!==(m=null==E?void 0:E.hostname)&&void 0!==m?m:"",w.cn="(referral)",w.cc=null!==(g=null==E?void 0:E.pathname)&&void 0!==g?g:"",w.ct="(not set)"):(w.cm="(none)",w.cs="(direct)",w.cn="(direct)");var N={last_click:function(){p=w},last_click_non_direct:function(){}};N[t]?N[t]():console.error("Unknown attribution model");var R,T=JSON.parse(o.get(c)||"[]");return console.log(T),T.push((R=p,Object.fromEntries(Object.entries(R).filter((function(o){o[0];var n=o[1];return""!==n&&null!=n}))))),T.length>e&&T.splice(1,T.length-e),console.log("history",T),o.set(c,JSON.stringify(T)),n}}();
