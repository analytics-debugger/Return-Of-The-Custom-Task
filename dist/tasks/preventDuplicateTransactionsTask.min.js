var preventDuplicateTransactionsTask=function(){"use strict";var e=function(e){try{return localStorage.getItem(e)||null}catch(e){return console.error("Error in get method:",e),null}},t=function(e,t,r,n,o){void 0===r&&(r=7),void 0===n&&(n="/"),void 0===o&&(o="");try{var a=btoa(t),c=new Date(Date.now()+864e5*r).toUTCString();document.cookie="".concat(e,"=").concat(a,"; expires=").concat(c,"; path=").concat(n,"; domain=").concat(o,"; SameSite=Strict; Secure"),localStorage.setItem(e,t)}catch(e){console.error("Error in set method:",e)}};return function(r,n){if(void 0===n&&(n="__ad_trans_dedup"),!r)return console.error("preventDuplicateTransactionsTask: Request is required."),r;if(r.events.some((function(e){return"purchase"===e.en}))){var o=[];try{var a=e(n);o=a?JSON.parse(a):[]}catch(e){console.error("Failed to parse stored transactions:",e)}r.events=r.events.filter((function(e){return("purchase"!==e.en||!o.includes(e["ep.transaction_id"]))&&(o.push(e["ep.transaction_id"]),!0)})),t(n,JSON.stringify(o))}return 0===r.events.length&&(r.__skip=!0),r}}();
